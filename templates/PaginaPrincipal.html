<!DOCTYPE html>
<html lang="es">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>SmartBites - Asesor√≠a nutricional con ciencia y coraz√≥n</title>
    <link rel="stylesheet" href="../static/img/styleguidePrincipal.css" />
    <link rel="stylesheet" href="../static/globalPrincipal.css" />
    <link rel="stylesheet" href="../static/stylesPrincipal.css" />
    
  </head>
 
  <body data color-mode="SDS-light">
    <div class="principal">
      <header class="header">
        <nav class="nav">
          <div class="logo">
            <img src="../static/img/HojaSin.png" alt="Logo SmartBites" class="logo-img" />
            <h1 class="logo-text">SmartBites</h1>
          </div>
         <ul class="nav-links">
            <li><a href="{{ url_for('home') }}" class="nav-link">INICIO</a></li>
            
              
          </ul>
          <form class="search-form" role="search">
            <img src="../static/img/iconobuscar.png" alt="Buscar" class="search-icon" />
            <input class="search-input" type="search" placeholder="Search" aria-label="Search" />
            <button class="search-button" type="submit">
            </button>
          </form>
          <a href="{{ url_for('login') }}" class="user-icon" aria-label="Perfil de usuario">
            <img src="../static/img/iconousuario.png" alt="Icono de usuario" class="icon-user" />
          </a>
        </nav>
      </header>
      <main>
        <section class="hero">
          <h2 class="hero-title">Asesor√≠a nutricional con ciencia y coraz√≥n.</h2>
         
          <p class="hero-subtitle">Explora un camino m√°s saludable, hecho a tu medida.</p>
          
          
          <div class="hero-image-slider top">
            <div class="image-track">
              <img src="../static/img/comida1.jpg" alt="Plato saludable" class="hero-image" />
              <img src="../static/img/comida2.jpg" alt="Frutas frescas" class="hero-image" />
              <img src="../static/img/comida3.jpg" alt="Ensalada colorida" class="hero-image" />
              <img src="../static/img/comida4.png" alt="Smoothie verde" class="hero-image" />
              <img src="../static/img/comida5.png" alt="Plato balanceado" class="hero-image" />

              <img src="../static/img/comida1.jpg" alt="Plato saludable" class="hero-image" />
              <img src="../static/img/comida2.jpg" alt="Frutas frescas" class="hero-image" />
              <img src="../static/img/comida3.jpg" alt="Ensalada colorida" class="hero-image" />
              <img src="../static/img/comida4.png" alt="Smoothie verde" class="hero-image" />
              <img src="../static/img/comida5.png" alt="Plato balanceado" class="hero-image" />

              <img src="../static/img/comida1.jpg" alt="Plato saludable" class="hero-image" />
              <img src="../static/img/comida2.jpg" alt="Frutas frescas" class="hero-image" />
              <img src="../static/img/comida3.jpg" alt="Ensalada colorida" class="hero-image" />
              <img src="../static/img/comida4.png" alt="Smoothie verde" class="hero-image" />
              <img src="../static/img/comida5.png" alt="Plato balanceado" class="hero-image" />
            </div>
          </div>
          <div class="hero-image-slider bottom">
            <div class="image-track reverse">
              <img src="../static/img/comida6.jpg" alt="Verduras frescas" class="hero-image" />
              <img src="../static/img/comida7.jpg" alt="Desayuno saludable" class="hero-image" />
              <img src="../static/img/comida8.jpg" alt="Snack nutritivo" class="hero-image" />
              <img src="../static/img/comida9.jpg" alt="Plato vegetariano" class="hero-image" />
              <img src="../static/img/comida10.jpg" alt="Batido de frutas" class="hero-image" />
        
              <img src="../static/img/comida6.jpg" alt="Verduras frescas" class="hero-image" />
              <img src="../static/img/comida7.jpg" alt="Desayuno saludable" class="hero-image" />
              <img src="../static/img/comida8.jpg" alt="Snack nutritivo" class="hero-image" />
              <img src="../static/img/comida9.jpg" alt="Plato vegetariano" class="hero-image" />
              <img src="../static/img/comida10.jpg" alt="Batido de frutas" class="hero-image" />

               <img src="../static/img/comida6.jpg" alt="Verduras frescas" class="hero-image" />
              <img src="../static/img/comida7.jpg" alt="Desayuno saludable" class="hero-image" />
              <img src="../static/img/comida8.jpg" alt="Snack nutritivo" class="hero-image" />
              <img src="../static/img/comida9.jpg" alt="Plato vegetariano" class="hero-image" />
              <img src="../static/img/comida10.jpg" alt="Batido de frutas" class="hero-image" />
            </div>
          </div>


          <button id="chatBubble" class="chat-bubble-btn">üí¨</button>
          <div id="chatBot" class="chat-container minimized">
          <div class="chat-header">
            <span>üßë‚Äç‚öïÔ∏è Nutri√≥loga</span>
            <small>IA-CHAT</small>
            <button id="closeChat" class="close-btn">‚úï</button>
          </div>

          <div class="chat-body">
          <div class="message bot">¬°Hola! ¬øEn qu√© puedo ayudarte?</div>
          </div>

          <div class="chat-input">
          <input type="text" id="chatInput" placeholder="Escribe un mensaje..." />
          <button id="sendBtn">‚û§</button>
          </div>
          </div>
        </section>
        <section class="features">
          <h2 class="features-title">¬øPor qu√© SmartBites es la elecci√≥n inteligente para tu bienestar?</h2>
          <div class="features-content">
            <img src="../static/img/comida11.png" alt="Plato saludable SmartBites" class="features-image" />
            <div class="features-text">
              <p>
                En SmartBites hacemos que la nutrici√≥n sea accesible, pr√°ctica y basada en ciencia. Te ayudamos a
                entender tu alimentaci√≥n, tomar decisiones informadas y mejorar tu relaci√≥n con la comida, sin juicios
                ni restricciones.
              </p>
              <p>
                Nuestro equipo de nutri√≥logos y desarrolladores combina tecnolog√≠a (como nuestro chatbot con IA),
                educaci√≥n clara y acompa√±amiento profesional para ofrecerte:
              </p>
              <ul>
                <li></li>
                <li>- Recetas f√°ciles</li>
                <li>- Contenido confiable</li>
                <li>- Herramientas interactivas</li>
                <li>- Atenci√≥n personalizada</li>
              </ul>
            </div>
          </div>
        </section>
        <section class="testimonial">
          <blockquote class="testimonial-quote">
            "Creemos en una nutrici√≥n con confianza, claridad y respaldo profesional. SmartBites no solo te dice qu√©
            comer: te ayuda a entender por qu√©, c√≥mo y para qu√©."
          </blockquote>
        </section>
        <section class="diseases">
          <h2 class="diseases-title">Enfermedades</h2>
          <p class="diseases-subtitle">
            Aqu√≠ presentamos una breve explicaci√≥n sobre las enfermedades m√°s comunes en la alimentaci√≥n.
          </p>
          <div class="diseases-grid">
            <article class="disease-card">
              <img src="../static/img/Diabetes.jpg" alt="Icono de diabetes" class="disease-icon" />
              <h3 class="disease-title">Diabetes</h3>
              <p class="disease-description">
                Es una enfermedad cr√≥nica caracterizada por la presencia de niveles elevados de az√∫car o glucosa en la sangre.
              </p>
            </article>
            <article class="disease-card">
              <img src="../static/img/Obesi.jpg" alt="Icono de leucemia" class="disease-icon" />
              <h3 class="disease-title">Obesidad</h3>
              <p class="disease-description">
                La obesidades una enfermedad de tipo cr√≥nico y que presenta diversos or√≠genes posibles, consistente en la acumulaci√≥n excesiva de tejido graso en el cuerpo. 
              </p>
            </article>
            <article class="disease-card">
              <img src="../static/img/Anorexia.avif" alt="Icono de anemia" class="disease-icon" />
              <h3 class="disease-title">Anorexia</h3>
              <p class="disease-description">
                Trastorno alimentario caracterizado por el miedo intenso a ganar peso y la distorsi√≥n de la imagen corporal, provocando signos y s√≠ntomas como delgadez excesiva, rechazo a comer,
                desmayos y mareos, y pr√°ctica excesiva de actividad f√≠sica, por ejemplo.
              </p>
            </article>
            <article class="disease-card">
              <img src="../static/img/Bulimia.jpg" alt="Icono de embarazo" class="disease-icon" />
              <h3 class="disease-title">Bulimia</h3>
              <p class="disease-description">
                Trastorno alimentario en el que la o las personas afectadas padecen episodios regulares en los que ingieren una gran cantidad de comida ‚Äîdenominados atracones‚Äî 
                en los que tiene una p√©rdida de control sobre la comida ingerida.
              </p>
            </article>
            <article class="disease-card">
              <img src="../static/img/Salmonelosis.jpg" alt="Icono gen√©rico" class="disease-icon" />
              <h3 class="disease-title">Salmonelosis</h3>
              <p class="disease-description">
                La infecci√≥n por salmonela (salmonelosis) es una enfermedad bacteriana com√∫n que afecta el tubo intestinal. La bacteria de la salmonela generalmente vive en los 
                intestinos de animales y humanos y se expulsa mediante las heces (materia fecal). 
              </p>
            </article>
        
          </div>
          <a href="#" class="read-more">Read more‚Üí</a>
        </section>
       <section id="seccion-comentarios" class="comentarios">
          <h2>Comentarios</h2>

          <!-- Lista donde inyectaremos los comentarios -->
          <div id="commentsList" class="comments-list"></div>

          <!-- Formulario para dejar un comentario nuevo -->
          <form id="formComentario" class="comment-form">
            <a href="{{ url_for('login') }}" class="text-wrapper-8">Inicia sesion para dejar tu comentario</a>
        
          </form>
        </section>
      </main>
      <footer class="footer">
        <div class="footer-content">
          <nav class="footer-nav">  
          <div class="footer-column">
              <h4 class="footer-title">SmartBites</h4>
              <ul>
                <li><a href="{{ url_for('home') }}">About us</a></li>
                <li><a href="#">Contactanos</a></li>
                <li><a href="#">Blog</a></li>
              </ul>
          </nav>
          <div class="footer-info">
            <p class="footer-text">¬© 2025 SmartBites. Todos los derechos reservados.</p>
          </div>
<script>
  const bubbleBtn = document.getElementById("chatBubble");
  const chatBox = document.getElementById("chatBot");
  const closeBtn = document.getElementById("closeChat");
  const input = document.getElementById("chatInput");
  const sendBtn = document.getElementById("sendBtn");
  const chatBody = document.querySelector(".chat-body");

  // Mostrar el chat
  bubbleBtn.addEventListener("click", () => {
    chatBox.classList.remove("minimized");
  });

  // Minimizar el chat
  closeBtn.addEventListener("click", () => {
    chatBox.classList.add("minimized");
  });

  // Enviar mensaje
  sendBtn.addEventListener("click", sendMessage);
  input.addEventListener("keypress", function (e) {
    if (e.key === "Enter") {
      sendMessage();
    }
  });

  function sendMessage() {
    const text = input.value.trim();
    if (text === "") return;

    const message = document.createElement("div");
    message.classList.add("message", "user");
    message.textContent = text;
    chatBody.appendChild(message);
    input.value = "";
    chatBody.scrollTop = chatBody.scrollHeight;

    // Simular respuesta
    setTimeout(() => {
      const botMsg = document.createElement("div");
      botMsg.classList.add("message", "bot");
      botMsg.textContent = "Hola, gracias por tu mensaje. Para poder ayudarte necesito que te registres en nuestra plataforma.";
      chatBody.appendChild(botMsg);
      chatBody.scrollTop = chatBody.scrollHeight;
    }, 1000);
  }

   
function toggleDropdown(event) {
  event.preventDefault();
  var content = document.getElementById("dropdownContent");
  content.style.display = content.style.display === "block" ? "none" : "block";
}

function toggleSubmenu(event) {
  event.preventDefault();
  var submenu = document.getElementById("submenuContent");
  submenu.style.display = submenu.style.display === "block" ? "none" : "block";
}

// Cierra los men√∫s si se hace clic fuera
document.addEventListener("click", function(e) {
  const dropdown = document.getElementById("dropdownContent");
  const submenu = document.getElementById("submenuContent");
  // Si el clic NO fue dentro de .dropdown ni .submenu-content
  if (!e.target.closest('.dropdown')) {
    if (dropdown) dropdown.style.display = "none";
    if (submenu) submenu.style.display = "none";
  }
});

  // Carga y muestra los comentarios
async function cargarComentarios() {
    const res = await fetch('/api/comentarios');
    const data = await res.json();
    const lista = document.getElementById('commentsList');
    lista.innerHTML = data.map(c => `
      <div class="comment">
        <div class="comment-header">
          <strong class="comment-author">${c.nombre}</strong>
          <small class="comment-date">${new Date(c.fecha).toLocaleString()}</small>
        </div>
        <div class="comment-body">${c.texto}</div>
        <div class="comment-actions">
          <button class="like-btn">üëç</button>
          <button class="dislike-btn">üëé</button>
          <button class="reply-btn">Responder</button>
        </div>
      </div>
    `).join('');
  }

  document.getElementById('formComentario').addEventListener('submit', async e => {
    e.preventDefault();
    const payload = {
      nombre: document.getElementById('c_nombre').value,
      email:  document.getElementById('c_email').value,
      texto:  document.getElementById('c_texto').value
    };
    const resp = await fetch('/api/comentarios', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify(payload)
    });

    if (resp.status === 201) {
      e.target.reset();
      cargarComentarios();
    } else {
      const err = await resp.json();
      alert(err.error || 'Error al enviar comentario');
    }
  });

  // Carga inicial al abrir la p√°gina
  cargarComentarios();

  
</script>
</body>
</html>
  </body>
</html>